<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap" rel="stylesheet">
</head>
<body>
    <container>
        <div class="left"></div>
        <main>
            <h1>QUIZ O KOTKACH</h1>
            <button id="button">Zaczynajmy!</button>
            <section class="all">
                <h2></h2>
                <div class=".question"><input type="radio" name="odp" id="p1"><p></p></div>
                <div class=".question"><input type="radio" name="odp" id="p2"><p></p></div>
                <div class=".question"><input type="radio" name="odp" id="p3"><p></p></div>
                <button id="next" class="next">DALEJ</button>
            </section>
        </main>
        <div class="right"></div>
    </container>

    <script>
        //zmienne przechowujaca punkty
        let odpowiedz1=0;
        let odpowiedz2=0;
        let odpowiedz3=0;
        let odpowiedz4=0;
        let odpowiedz5=0;

        function start(){
            //ukrywanie sekcji z pytaniami
            const section=document.querySelector('section');
            section.classList.toggle('hide');
            //wcisniecie guzika 'zaczynajmy'
            const button=document.getElementById("button");
            button.addEventListener('click', ()=>{
            button.remove();
            section.classList.remove('hide');
            });
        }

        function clearAnswers(){
			const input = document.querySelectorAll('input');
 
			for(let i=0; i<input.length; i++)
			{
				input[i].checked = false;
			}
		}

        function question1(){
            //wyswietlenie pytania
            const pytanie=document.querySelector('h2');
            pytanie.textContent=`Ile % całego swojego życia przesypiają koty?`;
            //odpowiedzi
            const odpowiedzi = ["70%", "80%", "90%"];
            const p = document.querySelectorAll('p');
            //petla ktora wpisuje odpowiedzi do pol
            for(let i=0;i<3;i++){
                p[i].textContent=`${odpowiedzi[i]}`;
            }
            //sprawdzanie poprawnej odpowiedzi
            const next=document.getElementById("next");
            next.addEventListener('click', () => {
                const odp1=document.getElementById("p1");
                if(odp1.checked==true){
                    odpowiedz1=1;
                    console.log(odpowiedz1);
                }
                else odpowiedz1=0;
                clearAnswers();
            });
        }

        function question2(){
            const pytanie=document.querySelector('h2');
            pytanie.textContent=`Jaki powinien być koci nos?`;
            
            const odpowiedzi = ["To bez znaczenia.", "Suchy.", "Mokry."];
            const p = document.querySelectorAll('p');
            
            for(let i=0;i<3;i++){
                p[i].textContent=`${odpowiedzi[i]}`;
            }
            
            const next=document.getElementById("next");
            next.remove();
            
            const next2 = document.createElement('button');
            const all=document.querySelector(".all");
            next2.textContent="DALEJ";
            all.appendChild(next2);
            next2.classList.add('next');

            next2.addEventListener('click', () => {
                const odp2=document.getElementById("p3");
                if(odp2.checked==true){
                    odpowiedz2=1;
                    console.log(odpowiedz2);
                }
                else odpowiedz2=0;
                clearAnswers();
                question3();          
            });
        }  

       function question3(){
            const pytanie=document.querySelector('h2');
            pytanie.textContent=`Jakiego smaku koty nie czują?`;
            
            const odpowiedzi = ["Słonego.", "Gorzkiego.", "Słodkiego."];
            const p = document.querySelectorAll('p');
            
            for(let i=0;i<3;i++){
                p[i].textContent=`${odpowiedzi[i]}`;
            }
            
            const next2=document.querySelector(".next");
            next2.remove();
            
            const next3 = document.createElement('button');
            const all=document.querySelector(".all");
            next3.textContent="DALEJ";
            all.appendChild(next3);
            next3.classList.add('next');
            
            next3.addEventListener('click', () => {
                const odp3=document.getElementById("p3");
                if(odp3.checked==true){
                    odpowiedz3=1;
                    console.log(odpowiedz3);
                }
                else odpowiedz3=0;
                clearAnswers();
                question4();
            });
        }

        function question4(){
            const pytanie=document.querySelector('h2');
            pytanie.textContent=`Jaka to rasa kota?`;
            const img=document.createElement('img');
            img.setAttribute("src", "./img/img4.jpeg");
            img.setAttribute("width", "250px");
            pytanie.appendChild(img);
            
            const odpowiedzi = ["Brytyjski", "Szkocki Zwisłouchy", "Angielski Zwisłouchy"];
            const p = document.querySelectorAll('p');
            
            for(let i=0;i<3;i++){
                p[i].textContent=`${odpowiedzi[i]}`;
            }
            
            const next3=document.querySelector(".next");
            next3.remove();
            
            const next4 = document.createElement('button');
            const all=document.querySelector(".all");
            next4.textContent="DALEJ";
            all.appendChild(next4);
            next4.classList.add('next');
            
            next4.addEventListener('click', () => {
                const odp4=document.getElementById("p2");
                if(odp4.checked==true){
                    odpowiedz4=1;
                    console.log(odpowiedz4);
                }
                else odpowiedz4=0;
                clearAnswers();
                question5();
            });
        }

        function question5(){
            const pytanie=document.querySelector('h2');
            pytanie.textContent=`Jaka jest charakterystyczna cecha kota bengalskiego?`;
            
            const odpowiedzi = ["Cętkowane ubarwienie.", "Bardzo długie włosie.", "Brak ogona."];
            const p = document.querySelectorAll('p');
            
            for(let i=0;i<3;i++){
                p[i].textContent=`${odpowiedzi[i]}`;
            }
            
            const next4=document.querySelector(".next");
            next4.remove();
            
            const next5 = document.createElement('button');
            const all=document.querySelector(".all");
            next5.textContent="WYNIKI";
            all.appendChild(next5);
            next5.classList.add('next');

            next5.addEventListener('click', () => {
                const odp5=document.getElementById("p1");
                if(odp5.checked==true){
                    odpowiedz5=1;
                    console.log(odpowiedz5);
                }
                else odpowiedz5=0;
                clearAnswers();
                end();
            });

        }

        function end(){
            const all=document.querySelector(".all");
            all.remove();

            const all2=document.createElement('section');
            all2.classList.add("all");
            const main=document.querySelector('main');
            main.appendChild(all2);

            const h2=document.createElement('h2');
            h2.textContent="WYNIKI";
            all2.appendChild(h2);

            let wyniki=0;
            wyniki=odpowiedz1+odpowiedz2+odpowiedz3+odpowiedz4+odpowiedz5;
            
            //przerabianie imienia
            const imie = prompt("Jak masz na imię?");
            const litera = imie.charAt(imie.length-1);
        
            const pierwsza_duza_litera = (imie.charAt(0)).toUpperCase();
            const reszta_imienia = (imie.substring(1,(imie.length))).toLowerCase();
        
            const przerobione_imie = pierwsza_duza_litera+reszta_imienia;

            const p=document.createElement('p');

            if(litera=="a" && imie!="Kuba" && imie!="kuba"){
                p.textContent=`${przerobione_imie}, zdobyłaś ${wyniki} na 5 punktów!`;
            }else{
                p.textContent=`${przerobione_imie}, zdobyłeś ${wyniki} na 5 punktów!`;
            }

            all2.appendChild(p);
            
            //*********************************************
            
            const wyniki_koniec=document.createElement('div');
            wyniki_koniec.classList.add("wyniki_koniec")

            all2.appendChild(wyniki_koniec);

            const q1=document.createElement("p");
            q1.textContent=`1. Ile % całego swojego życia przesypiają koty? - ${odpowiedz1}/1`;
            wyniki_koniec.appendChild(q1);
            if(odpowiedz1==1) q1.style.backgroundColor='rgba(0, 255, 0, 0.486)';
            else q1.style.backgroundColor='rgba(255, 80, 80, 0.534)';

            const q2=document.createElement("p");
            q2.textContent=`2. Jaki powinien być koci nos? - ${odpowiedz2}/1`;
            wyniki_koniec.appendChild(q2);
            if(odpowiedz2==1) q2.style.backgroundColor='rgba(0, 255, 0, 0.486)';
            else q2.style.backgroundColor='rgba(255, 80, 80, 0.534)';
            
            const q3=document.createElement("p");
            q3.textContent=`3. Jakiego smaku koty nie czują? - ${odpowiedz3}/1`;
            wyniki_koniec.appendChild(q3);
            if(odpowiedz3==1) q3.style.backgroundColor='rgba(0, 255, 0, 0.486)';
            else q3.style.backgroundColor='rgba(255, 80, 80, 0.534)';
            
            const q4=document.createElement("p");
            q4.textContent=`4. Jaka to rasa kota? - ${odpowiedz4}/1`;
            wyniki_koniec.appendChild(q4);
            if(odpowiedz4==1) q4.style.backgroundColor='rgba(0, 255, 0, 0.486)';
            else q4.style.backgroundColor='rgba(255, 80, 80, 0.534)';
            
            const q5=document.createElement("p");
            q5.textContent=`5. Jaka jest charakterystyczna cecha kota bengalskiego? - ${odpowiedz5}/1`;
            wyniki_koniec.appendChild(q5);
            if(odpowiedz5==1) q5.style.backgroundColor='rgba(0, 255, 0, 0.486)';
            else q5.style.backgroundColor='rgba(255, 80, 80, 0.534)';
            
            //*********************************************

            const button = document.createElement('button');
            button.textContent="ODŚWIEŻ";
            all2.appendChild(button);
            button.classList.add('next');

            button.addEventListener('click', ()=>{
                location.reload();
            })
        }
        const next=document.getElementById("next");
        
        start();
        question1();
        next.addEventListener('click',question2);

    </script>
</body>
</html>